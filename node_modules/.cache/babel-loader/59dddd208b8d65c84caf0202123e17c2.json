{"ast":null,"code":"import _toConsumableArray from\"/Users/wookikim/workspace/calendar_example_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/wookikim/workspace/calendar_example_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/wookikim/workspace/calendar_example_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import styled from\"@emotion/styled\";import dayjs from\"dayjs\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CalendarHeaderGrid=styled.dt(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 2fr 1fr;\\n  text-align: center;\\n  vertical-align: middle;\\n  align-self: stretch;\\n  padding: 2rem 0;\\n  font-size: 24px;\\n  button {\\n    padding: 0.5rem;\\n    text-align: center;\\n    box-sizing: border-box;\\n    font-weight: 500;\\n    outline: 0;\\n  }\\n  span {\\n    align-self: center;\\n    font-weight: bold;\\n  }\\n\"])));var CalendarGrid=styled.ul(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(7, 1fr);\\n  text-align: center;\\n  font-size: 24px;\\n\"])));var CalendarGridHead=styled(CalendarGrid)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-weight: 100;\\n\"])));var CalendarGridItem=styled.li(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  :nth-child(7n + 1) {\\n    color: #f0aac9 !important;\\n  }\\n  :nth-child(7n) {\\n    color: #aac9f0 !important;\\n  }\\n  opacity: \",\";\\n\\n  box-sizing: border-box;\\n  min-height: 70px;\\n  color: \",\";\\n\\n  :hover {\\n    cursor: pointer;\\n    position: relative;\\n    color: \",\";\\n  }\\n\\n  :after {\\n    position: absolute;\\n    left: calc((100% / 2) - 25px);\\n    top: 12px;\\n    max-width: 0px;\\n    max-height: 20px;\\n    width: 50px;\\n    height: 50px;\\n    content: \\\"\\\";\\n    box-sizing: border-box;\\n    background: #aaf0d1;\\n    opacity: 0;\\n    z-index: -1;\\n    display: \",\";\\n  }\\n\\n  :hover:after {\\n    transition: 0.3s all;\\n    position: absolute;\\n    left: calc((100% / 2) - 25px);\\n    top: 12px;\\n    max-width: 50px;\\n    max-height: 20px;\\n    width: 50px;\\n    height: 50px;\\n    content: \\\"\\\";\\n    box-sizing: border-box;\\n    background: #aaf0d1;\\n    opacity: 0.5;\\n    z-index: -1;\\n    display: \",\";\\n  }\\n\"])),function(props){return props.stateWeek===undefined?\"1\":\"0.2\";},function(props){return props.reserved?\"#d1aaf0\":\"#3d3d3d\";},function(props){return props.reserved?\"#d1aaf0\":\"#3d3d3d\";},function(props){return props.reserved?\"none\":\"block\";},function(props){return props.reserved?\"none\":\"block\";});var CalendarGridHeadItem=styled(CalendarGridItem)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  min-height: 60px;\\n\"])));var Message=styled.span(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  display: block;\\n\"])));function App(){var _useState=useState(dayjs()),_useState2=_slicedToArray(_useState,2),now=_useState2[0],setNow=_useState2[1];var defaultData={year:now.year(),month:now.format(\"MM\"),today:now.date(),days:[],weekdays:[\"일\",\"월\",\"화\",\"수\",\"목\",\"금\",\"토\"]};var _useState3=useState(defaultData),_useState4=_slicedToArray(_useState3,2),rawData=_useState4[0],setRawData=_useState4[1];// [...Array(now.daysInMonth()).keys()].map((i) => {\n//   defaultData.days.push({ day: i + 1, event: [] });\n// });\n// defaultData.days[11].event.push(\"예약\");\nuseEffect(function(){var startWeek=now.subtract(1,\"M\").date(1);var lastWeek=now.date(now.daysInMonth());var defaultData={year:now.year(),month:now.format(\"MM\"),today:now.date(),days:[],weekdays:[\"일\",\"월\",\"화\",\"수\",\"목\",\"금\",\"토\"]};var startWeekCount=startWeek.daysInMonth()-now.date(1).$W+1;_toConsumableArray(Array(now.date(1).$W)).map(function(value,index){console.log(\"init\",index);defaultData.days.push({day:startWeekCount++,event:[],stateWeek:-1});});_toConsumableArray(Array(now.daysInMonth()).keys()).map(function(i){defaultData.days.push({day:i+1,event:[]});});console.log(lastWeek.$W);_toConsumableArray(Array(6-lastWeek.$W)).map(function(value,index){console.log(\"init\",index);defaultData.days.push({day:index+1,event:[],stateWeek:1});});// console.log(\"lastWeekCount\",);\n//  [...Array(now.date(1).$W)].map((value,index) => {\n//   console.log(\"init\",index);\n//   defaultData.days.push({ day: lastWeekCount++, event: [],stateWeek:-1, });\n// });\ndefaultData.days[11].event.push(\"예약\");setRawData(defaultData);},[now]);// useEffect(() => {\n//   console.log(\"data\");\n// }, [rawData])\nvar changeMonth=function changeMonth(param){if(param===\"prev\"){setNow(now.subtract(1,\"M\"));}else{setNow(now.add(1,\"M\"));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsxs(CalendarHeaderGrid,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return changeMonth(\"prev\");},children:\"\\uC9C0\\uB09C\\uB2EC\"}),/*#__PURE__*/_jsxs(\"span\",{children:[rawData.year,\"\\uB144 \",rawData.month,\"\\uC6D4\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return changeMonth(\"next\");},children:\"\\uB2E4\\uC74C\\uB2EC\"})]}),/*#__PURE__*/_jsxs(\"dd\",{children:[/*#__PURE__*/_jsx(CalendarGridHead,{children:rawData.weekdays.map(function(day,index){return/*#__PURE__*/_jsx(CalendarGridHeadItem,{highlighKey:index,children:day},index);})}),/*#__PURE__*/_jsx(CalendarGrid,{children:rawData.days.map(function(days,index){return/*#__PURE__*/_jsxs(CalendarGridItem,{reserved:days.event.length>0,stateWeek:days.stateWeek,children:[days.day,\" \",/*#__PURE__*/_jsx(Message,{children:days.event[0]})]},index);})})]})]})})]});}export default App;","map":{"version":3,"sources":["/Users/wookikim/workspace/calendar_example_1/src/App.js"],"names":["styled","dayjs","useEffect","useState","CalendarHeaderGrid","dt","CalendarGrid","ul","CalendarGridHead","CalendarGridItem","li","props","stateWeek","undefined","reserved","CalendarGridHeadItem","Message","span","App","now","setNow","defaultData","year","month","format","today","date","days","weekdays","rawData","setRawData","startWeek","subtract","lastWeek","daysInMonth","startWeekCount","$W","Array","map","value","index","console","log","push","day","event","keys","i","changeMonth","param","add","length"],"mappings":"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","sourcesContent":["import styled from \"@emotion/styled\";\nimport dayjs from \"dayjs\";\nimport { useEffect, useState } from \"react\";\nconst CalendarHeaderGrid = styled.dt`\n  display: grid;\n  grid-template-columns: 1fr 2fr 1fr;\n  text-align: center;\n  vertical-align: middle;\n  align-self: stretch;\n  padding: 2rem 0;\n  font-size: 24px;\n  button {\n    padding: 0.5rem;\n    text-align: center;\n    box-sizing: border-box;\n    font-weight: 500;\n    outline: 0;\n  }\n  span {\n    align-self: center;\n    font-weight: bold;\n  }\n`;\n\nconst CalendarGrid = styled.ul`\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  text-align: center;\n  font-size: 24px;\n`;\n\nconst CalendarGridHead = styled(CalendarGrid)`\n  font-weight: 100;\n`;\n\nconst CalendarGridItem = styled.li`\n  :nth-child(7n + 1) {\n    color: #f0aac9 !important;\n  }\n  :nth-child(7n) {\n    color: #aac9f0 !important;\n  }\n  opacity: ${(props) => (props.stateWeek === undefined ? \"1\" : \"0.2\")};\n\n  box-sizing: border-box;\n  min-height: 70px;\n  color: ${(props) => (props.reserved ? \"#d1aaf0\" : \"#3d3d3d\")};\n\n  :hover {\n    cursor: pointer;\n    position: relative;\n    color: ${(props) => (props.reserved ? \"#d1aaf0\" : \"#3d3d3d\")};\n  }\n\n  :after {\n    position: absolute;\n    left: calc((100% / 2) - 25px);\n    top: 12px;\n    max-width: 0px;\n    max-height: 20px;\n    width: 50px;\n    height: 50px;\n    content: \"\";\n    box-sizing: border-box;\n    background: #aaf0d1;\n    opacity: 0;\n    z-index: -1;\n    display: ${(props) => (props.reserved ? \"none\" : \"block\")};\n  }\n\n  :hover:after {\n    transition: 0.3s all;\n    position: absolute;\n    left: calc((100% / 2) - 25px);\n    top: 12px;\n    max-width: 50px;\n    max-height: 20px;\n    width: 50px;\n    height: 50px;\n    content: \"\";\n    box-sizing: border-box;\n    background: #aaf0d1;\n    opacity: 0.5;\n    z-index: -1;\n    display: ${(props) => (props.reserved ? \"none\" : \"block\")};\n  }\n`;\n\nconst CalendarGridHeadItem = styled(CalendarGridItem)`\n  min-height: 60px;\n`;\n\nconst Message = styled.span`\n  font-size: 12px;\n  display: block;\n`;\n\nfunction App() {\n  const [now, setNow] = useState(dayjs());\n\n  const defaultData = {\n    year: now.year(),\n    month: now.format(\"MM\"),\n    today: now.date(),\n    days: [],\n    weekdays: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"],\n  };\n  const [rawData, setRawData] = useState(defaultData);\n\n  // [...Array(now.daysInMonth()).keys()].map((i) => {\n  //   defaultData.days.push({ day: i + 1, event: [] });\n  // });\n  // defaultData.days[11].event.push(\"예약\");\n\n  useEffect(() => {\n    let startWeek = now.subtract(1, \"M\").date(1);\n    let lastWeek = now.date(now.daysInMonth());\n    let defaultData = {\n      year: now.year(),\n      month: now.format(\"MM\"),\n      today: now.date(),\n      days: [],\n      weekdays: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"],\n    };\n    let startWeekCount = startWeek.daysInMonth() - now.date(1).$W + 1;\n\n    [...Array(now.date(1).$W)].map((value, index) => {\n      console.log(\"init\", index);\n      defaultData.days.push({\n        day: startWeekCount++,\n        event: [],\n        stateWeek: -1,\n      });\n    });\n\n    [...Array(now.daysInMonth()).keys()].map((i) => {\n      defaultData.days.push({ day: i + 1, event: [] });\n    });\n    console.log(lastWeek.$W);\n    [...Array(6 - lastWeek.$W)].map((value, index) => {\n      console.log(\"init\", index);\n      defaultData.days.push({ day: index + 1, event: [], stateWeek: 1 });\n    });\n\n    // console.log(\"lastWeekCount\",);\n    //  [...Array(now.date(1).$W)].map((value,index) => {\n    //   console.log(\"init\",index);\n    //   defaultData.days.push({ day: lastWeekCount++, event: [],stateWeek:-1, });\n    // });\n\n    defaultData.days[11].event.push(\"예약\");\n\n    setRawData(defaultData);\n  }, [now]);\n\n  // useEffect(() => {\n  //   console.log(\"data\");\n\n  // }, [rawData])\n\n  const changeMonth = (param) => {\n    if (param === \"prev\") {\n      setNow(now.subtract(1, \"M\"));\n    } else {\n      setNow(now.add(1, \"M\"));\n    }\n  };\n  return (\n    <div>\n      <header></header>\n      <section>\n        <dl>\n          <CalendarHeaderGrid>\n            <button onClick={() => changeMonth(\"prev\")}>지난달</button>\n            <span>\n              {rawData.year}년 {rawData.month}월\n            </span>\n            <button onClick={() => changeMonth(\"next\")}>다음달</button>\n          </CalendarHeaderGrid>\n          <dd>\n            <CalendarGridHead>\n              {rawData.weekdays.map((day, index) => {\n                return (\n                  <CalendarGridHeadItem key={index} highlighKey={index}>\n                    {day}\n                  </CalendarGridHeadItem>\n                );\n              })}\n            </CalendarGridHead>\n            <CalendarGrid>\n              {rawData.days.map((days, index) => {\n                return (\n                  <CalendarGridItem\n                    key={index}\n                    reserved={days.event.length > 0}\n                    stateWeek={days.stateWeek}\n                  >\n                    {days.day} <Message>{days.event[0]}</Message>\n                  </CalendarGridItem>\n                );\n              })}\n            </CalendarGrid>\n          </dd>\n        </dl>\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}